<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="/root/layout::Layout(~{::div})">
    <div class="oe_website_login_container">
        <form class="oe_signup_form" role="form" method="post" th:action="@{/web/signup}" th:object="${user}">

            <div th:if="${session.message}" th:classappend="${session.message.type}" class="mb-3 alert" role="alert">
                <span th:text="${session.message.content}"></span>
                <th:block th:text="${#session.removeAttribute('message')}"></th:block>
            </div>

            <div class="mb-3 field-login">
                <label for="login">Your Email</label>
                <input type="text" name="login" id="login" class="form-control form-control-sm" autofocus="autofocus"
                           autocapitalize="off" th:value="${user.login}" required="required" th:classappend="${#fields.hasErrors('login') ? 'is-invalid' : ''}"/>
                <div th:each="e : ${#fields.errors('login')}" th:text="${e}" class="invalid-feedback" />
            </div>
            <div class="mb-3 field-name">
                <label for="name">Your Name</label>
                <input type="text" name="name" id="name" class="form-control form-control-sm" placeholder="e.g. John Doe"
                       required="required" th:value="${user.name}" th:classappend="${#fields.hasErrors('name') ? 'is-invalid' : ''}"/>
                <div th:each="e : ${#fields.errors('name')}" th:text="${e}" class="invalid-feedback"/>
            </div>
            <div class="mb-3 field-password pt-2">
                <label for="password">Password</label>
                <input type="password" name="password" id="password" class="form-control form-control-sm"
                       required="required" minlength="8" th:classappend="${#fields.hasErrors('password') ? 'is-invalid': ''}"/>
                <div th:each="e : ${#fields.errors('password')}" th:text="${e}" class="invalid-feedback"/>
            </div>
            <div class="mb-3 field-confirm_password">
                <label for="confirm_password">Confirm Password</label>
                <input type="password" name="confirm_password" id="confirm_password" class="form-control form-control-sm"
                       required="required" th:classappend="${#fields.hasErrors('confirm_password') ? 'is-invalid': ''}"/>
                <div th:each="e : ${#fields.errors('confirm_password')}" th:text="${e}" class="invalid-feedback"/>
            </div>
            <div class="text-center oe_login_buttons d-grid pt-3">
                <button type="submit" class="btn btn-primary"> Sign up</button>
                <a class="btn btn-link btn-sm" role="button" href="" th:href="@{/web/login}">Already have an account?</a>
            </div>
        </form>
    </div>
</html>